<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sms.mapper.SmsInfoMapper">
	<parameterMap id="smsInfoParam" type="com.sms.bean.SmsInfo">
	</parameterMap>
	<resultMap id="smsInfoResult" type="com.sms.bean.SmsInfo">
		<id column="id" property="id"/>
		<result column="contact_id" property="contactId"/>
		<result column="contact_name" property="contactName"/>
		<result column="phone" property="phone"/>
		<result column="goods_id" property="goodsId"/>
		<result column="goods_name" property="goodsName"/>
		<result column="goods_model" property="goodsModel"/>
		<result column="update_date" property="updateDate"/>
		<result column="send_date" property="sendDate"/>
		<result column="sms_content" property="smsContent"/>
		<result column="done" property="done"/>
		<result column="sms_type" property="smsType"/>
	</resultMap>


	<insert id="createSmsInfo" parameterMap="smsInfoParam" useGeneratedKeys="true" keyProperty="id">
			INSERT INTO CI_SMS_INFO(contact_id,contact_name,phone,goods_id,goods_name,goods_model,update_date,send_date,sms_content,done,sms_type) VALUES
			(#{contactId},#{contactName},#{phone},#{goodsId},#{goodsName},#{goodsModel},#{updateDate},#{sendDate},#{smsContent},#{done},#{smsType})
	</insert>

	<update id="updateSmsInfo" parameterMap="smsInfoParam">
		UPDATE CI_SMS_INFO SET contact_id=#{contactId},contact_name=#{contactName},phone=#{phone},goods_id=#{goodsId},goods_name=#{goodsName},
		goods_model=#{goodsModel},update_date=#{updateDate},send_date=#{sendDate},sms_content=#{smsContent},done=#{done},
		sms_type=#{smsType} WHERE id=#{id}
	</update>
	<select id="querySmsInfo" parameterMap="smsInfoParam" resultMap="smsInfoResult">
		SELECT * FROM CI_SMS_INFO WHERE 1=1
		<include refid="smsInfoQuery"/>

	</select>
	<select id="querySmsInfoById" parameterType="int" resultMap="smsInfoResult">
		SELECT * FROM CI_SMS_INFO WHERE id=#{id}
	</select>
	<delete id="deleteSmsInfo" parameterType="int">
		DELETE FROM CI_SMS_INFO WHERE ID=${id}
	</delete>
	<sql id="smsInfoQuery">
		<if test="contactId!=null">
			AND contact_id=#{contactId}
		</if>
		<if test="contactName!=null">
			AND contact_name=#{contactName}
		</if>
		<if test="phone!=null">
			AND phone=#{phone}
		</if>
		<if test="goodsId!=null">
			AND goods_id=#{goodsId}
		</if>
		<if test="goodsName!=null">
			AND goods_name=#{goodsName}
		</if>
		<if test="goodsModel!=null">
			AND goods_model=#{goodsModel}
		</if>
		<if test="updateDate!=null">
			AND update_date=#{updateDate}
		</if>
		<if test="sendDate!=null">
			AND send_date=#{sendDate}
		</if>
		<if test="smsContent!=null">
			AND sms_content=#{smsContent}
		</if>
		<if test="done!=null">
			AND done=#{done}
		</if>
		<if test="smsType!=null">
			AND sms_type=#{smsType}
		</if>
	</sql>


</mapper>
